<!DOCTYPE html>
<html>
<head>
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>


<link rel="stylesheet" type="text/css" href="https://js.api.here.com/v3/3.0/mapsjs-ui.css?dp-version=1533195059" />
<script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-core.js"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-service.js"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-ui.js"></script>
<script type="text/javascript" src="https://js.api.here.com/v3/3.0/mapsjs-mapevents.js"></script>
</head>
<body>
<u> 
	<h1> 
		<p class="text-center">Events near You </p> </h1> </u> 
<strong>
 <p class="lead, text-center">Locate your nearest event </strong> </p>

 <div class=bs-example data-example-id=simple-table> 
 	<table class=table> <caption>availabe events in area.</caption>
 	 <thead> <tr> <th>#</th> <th>Event Name</th> <th>Company</th> <th>Location</th><th>Time</th><th>Date</th></tr></thead>
 	  <tbody id="tableBody"> 	
		<p>Discver events by typing in key words (eg. location/interests):</p>  
		<input id="myInput" type="text" placeholder="Search..">
		<br><br>
 	  </tbody> 
 	</table> 
 </div> <figure class=highlight><pre><code class=language-html data-lang=html>


  <div style="width: 640px; height: 480px" id="mapContainer"></div>

  <script>

  	function moveMapToBerlin(map){
  map.setCenter({lat:52.5159, lng:13.3777});
  map.setZoom(1);
}

    // Initialize the platform object:
    var platform = new H.service.Platform({
    'app_id': 'cyM7U4gzfAFcixP5sTV8',
    'app_code': 'ZTCbPy3JThQ_V3U7cL5F8g'
    });

    var pixelRatio = window.devicePixelRatio || 1;
var defaultLayers = platform.createDefaultLayers({
  tileSize: pixelRatio === 1 ? 256 : 512,
  ppi: pixelRatio === 1 ? undefined : 320
});

//Step 2: initialize a map  - not specificing a location will give a whole world view.
var map = new H.Map(document.getElementById('mapContainer'),
  defaultLayers.normal.map, {pixelRatio: pixelRatio});

//Step 3: make the map interactive
// MapEvents enables the event system
// Behavior implements default interactions for pan/zoom (also on mobile touch environments)
var behavior = new H.mapevents.Behavior(new H.mapevents.MapEvents(map));

// Create the default UI components
var ui = H.ui.UI.createDefault(map, defaultLayers);

// Now use the map as required...
moveMapToBerlin(map);

   map.addEventListener('tap', function (evt) {
    var coord = map.screenToGeo(evt.currentPointer.viewportX,
            evt.currentPointer.viewportY);
    alert('Clicked at ' + Math.abs(coord.lat.toFixed(4)) +
        ((coord.lat > 0) ? 'N' : 'S') +
        ' ' + Math.abs(coord.lng.toFixed(4)) +
         ((coord.lng > 0) ? 'E' : 'W'));
  });
  </script>

  <script type="text/javascript">
		
		$(document).ready(function(){
 		 $("#myInput").on("keyup", function() {
	    		var value = $(this).val().toLowerCase();
	    		console.log(value)
		   		$("#tableBody tr").filter(function() {
		     	 	$(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
		    	});
  			});
		});

		$.get( "http://10.245.4.227:3000/events", function(data) {
			var obj = jQuery.parseJSON(data);
		  	for (event in obj){
		  		console.log(obj[event]);
		  		// console.log(obj[event]['eventName']);
		  		number = parseInt(event)+1
				$( "#tableBody" ).append( "<tr> <th scope=row>"+number+"</th><td>"+obj[event]['eventName']+"</td><td>"+obj[event]['company']+"</td><td>"+obj[event]['location']+"</td><td>"+obj[event]['time']+"</td><td>"+obj[event]['date']+"</td></tr>");
		  	}
		});
	</script>
</body>
</html>